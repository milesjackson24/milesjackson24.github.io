(this["webpackJsonparup-hub"]=this["webpackJsonparup-hub"]||[]).push([[0],{130:function(e,t,a){"use strict";(function(e){var c=a(9),n=a(0),r=a(63),o=a.n(r),i=a(131);a(186),a(187),a(188);t.a=function(){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),r=a[0],s=a[1],l=Object(n.useState)(!1),j=Object(c.a)(l,2),d=j[0],b=j[1],h=Object(n.useState)([]),u=Object(c.a)(h,2),p=u[0],m=u[1],O=Object(n.useState)(""),x=Object(c.a)(O,2),g=x[0],f=x[1],v=Object(n.useState)(localStorage.getItem("selectedBackground")?localStorage.getItem("selectedBackground"):i.a),k=Object(c.a)(v,2),C=k[0],_=k[1],S=function(){Notification.requestPermission().then((function(){new Notification("You have 4 new calculations to complete, click to view").onclick=function(e){e.preventDefault(),window.open("https://bmtools.arup.com/calcs/mechanical/project/demo","_blank")}}))};return Object(n.useEffect)((function(){if(r){console.log("timed notification"),S(),s(!1)}}),[r]),{handleNotification:S,loggedIn:d,authHandler:function(t,a){console.log(t,a),a&&(o.a.get("https://graph.microsoft.com/v1.0/me/photo/$value",{cache:!0,responseType:"arraybuffer",headers:{Authorization:"Bearer "+a.accessToken}}).then((function(t){var a="data:image/jpeg;base64,"+e.from(t.data,"binary").toString("base64");f(a)})),m(a),b(!0))},userData:p,userImgData:g,selectedBackground:C,setSelectedBackground:_}}}).call(this,a(164).Buffer)},131:function(e,t,a){"use strict";t.a=a.p+"static/media/Lemons.25a0929a.png"},159:function(e,t,a){},160:function(e,t,a){},186:function(e,t,a){"use strict";a.p},187:function(e,t,a){"use strict";a.p},188:function(e,t,a){"use strict";a.p},194:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(30),o=a.n(r),i=(a(159),a.p,a(160),a(129)),s=a.n(i),l=a(262),j=a(290),d=a(283),b=a(130),h=a(277),u=a(272),p=a(275),m=a(274),O=a(270),x=a(273),g=a(276),f=a(271),v=a(263),k=a(280),C=a(53),_=a.n(C),S=a(9),N=a(63),w=function(e){var t=Object(c.useState)([]),a=Object(S.a)(t,2),n=a[0],r=a[1],o=Object(c.useState)([]),i=Object(S.a)(o,2),s=i[0],l=i[1],j=Object(c.useState)(!1),d=Object(S.a)(j,2),b=d[0],h=d[1],u=function(){N.get("https://bmtools.arup.com/calcs/api/mechanical/pwadata/".concat(e.account.userName)).then((function(e){r(e.data.calcs)}))};Object(c.useEffect)((function(){u(),l(n)}),[]),Object(c.useEffect)((function(){var t=setInterval((function(){return N.get("https://bmtools.arup.com/calcs/api/mechanical/pwadata/".concat(e.account.userName)).then((function(e){l(e.data.calcs)})),function(){return clearInterval(t)}}),6e4)}),[]),Object(c.useEffect)((function(){s.length>n.length?Notification.requestPermission().then((function(){new Notification("You have a new Calculation to complete").onclick=function(e){e.preventDefault(),window.open("https://bmtools.arup.com/calcs/mechanical/mycalcs","_blank")}})):s.length<n.length&&Notification.requestPermission().then((function(){new Notification("Well done! You've completed a Calculation, only ".concat(s.length," more to go."))})),console.log(s,n),h(!0)}),[s]),Object(c.useEffect)((function(){!0===b&&(u(),h(!1)),console.log(n,s)}),[b]);return{myCalcs:n,completeCalc:function(e){window.open("https://bmtools.arup.com/calcs/mechanical/project/".concat(e.ProjectCode),"_blank")}}},P=a(260),y=Object(P.a)({table:{maxHeight:400,overflowY:"auto"},helpIcon:{color:"#28aae1",paddingTop:5},helpTooltipSpan:{maxWidth:50,fontSize:12}}),B=a(1);function I(e){var t=e.userData,a=w(t),c=a.myCalcs,n=a.completeCalc,r=y();return Object(B.jsxs)("div",{children:[Object(B.jsxs)(l.a,{container:!0,direction:"row",alignItems:"center",children:[Object(B.jsx)(l.a,{item:!0,xs:11,children:Object(B.jsx)(v.a,{variant:"h6",children:"Calc Centre"})}),Object(B.jsx)(l.a,{item:!0,xs:1,children:Object(B.jsx)(k.a,{title:Object(B.jsx)("span",{className:r.helpTooltipSpan,children:"This Card contains calculations that have been assigned to you and not yet marked as completed. Click on a calculation to be taken to the Calculation Tracker and begin work."}),placement:"bottom-end",children:Object(B.jsx)(_.a,{fontSize:"small",className:r.helpIcon})})})]}),c.length>0?Object(B.jsx)(O.a,{component:f.a,className:r.table,children:Object(B.jsxs)(u.a,{stickyHeader:!0,size:"small",children:[Object(B.jsxs)(x.a,{children:[Object(B.jsx)(m.a,{children:"Calculation Name"}),Object(B.jsx)(m.a,{children:"Project Name"}),Object(B.jsx)(m.a,{children:"Stage"}),Object(B.jsx)(m.a,{})]}),Object(B.jsx)(p.a,{children:c.map((function(e){return Object(B.jsxs)(g.a,{children:[Object(B.jsx)(m.a,{children:e.calculation}),Object(B.jsx)(m.a,{children:e.JobNameShort}),Object(B.jsx)(m.a,{children:e.stage}),Object(B.jsx)(m.a,{children:Object(B.jsx)(h.a,{variant:"contained",color:"primary",onClick:function(){return n(e)},children:"Complete"})})]},e.calculation_id)}))})]})}):Object(B.jsxs)(v.a,{variant:"body2",children:["It looks like you don't have any calculations to Complete. ",Object(B.jsx)("br",{}),"Visit the Calc Tracker and check back later.",Object(B.jsx)("br",{}),Object(B.jsx)("a",{href:"https://bmtools.arup.com/calcs/mechanical",target:"_blank",rel:"noreferrer",children:"Mechanical"})," |\xa0",Object(B.jsx)("a",{href:"https://bmtools.arup.com/calcs/electrical",target:"_blank",rel:"noreferrer",children:"Electrical"})," |\xa0",Object(B.jsx)("a",{href:"https://bmtools.arup.com/calcs/structural",target:"_blank",rel:"noreferrer",children:"Structural"})]})]})}var T=a(281),E=a(291),A=a(101),M=a(63),L=a(285),D=a(292),R=a(278),H=a(103),F=a.n(H),W=a(59),z=a.n(W),Y=a(104),G=a.n(Y),U=a(105),J=a.n(U),q=a(106),K=a.n(q),V=a(107),$=a.n(V),Q=a(33),X=a.n(Q),Z=a(34),ee=a.n(Z),te=a(102),ae=a.n(te),ce=Object(P.a)({table:{maxWidth:"100%",margin:"auto",maxHeight:350,overflowY:"auto"},cellRed:{color:"#ff0000"},cellAmber:{color:"#FFBF00"},cellGreen:{color:"#00FF00"},cellYellow:{color:"#FFFF00"},tableHeader:{fontWeight:"bold"},jobNameCell:{width:200,cursor:"pointer"},projectCodeCell:{width:50,paddingRight:0,cursor:"pointer"},iconHeader:{paddingTop:0,paddingBottom:0,paddingLeft:5,paddingRight:5},iconCell:{paddingTop:0,paddingBottom:0,paddingLeft:5,paddingRight:5,cursor:"pointer"},healthCell:{},accordionContainer:{maxHeight:400,overflowY:"auto"},accordionProjectStatus:{paddingRight:20},subtitle:{paddingLeft:"3%",paddingTop:"1%"},helpIcon:{color:"#28aae1",paddingTop:5},helpTooltipSpan:{maxWidth:100,fontSize:12}});function ne(e){var t=function(e){var t=Object(c.useState)([]),a=Object(S.a)(t,2),n=a[0],r=a[1],o=Object(c.useState)([]),i=Object(S.a)(o,2),s=i[0],l=i[1],j=Object(c.useState)([]),d=Object(S.a)(j,2),b=d[0],h=d[1],u=Object(c.useState)(!1),p=Object(S.a)(u,2),m=p[0],O=p[1],x=function(){M.get("https://bmtools.arup.com/bimtracker/api/allrecords/all").then((function(e){g(e.data)}))},g=function(e){var t=e.map((function(e){var t=!1,a=!1,c=!1,n=!1;return e.Approver_B_name&&e.Checker_B_name&&e.CoordinationManager&&e.Engineer_B_name&&(t=!0),e.storage_CDE&&e.storage_C_Models&&e.storage_Clarity_BIM_360_Backup&&e.storage_MEP_Models&&e.storage_S_Models&&(a=!0),e.process_BEP_Status&&e.process_EIR_Status&&e.process_Information_Deliverables&&e.process_Responsibility_Matrix_Status&&(c=!0),e.coordination_Internal_Coord_Meetings&&e.coordination_Issue_Tracking&&e.coordination_Whole_Team_Coord_Meetings&&(n=!0),Object(A.a)(Object(A.a)({},e),{},{completePeople:t,completeStorage:a,completeProcess:c,completeCoordination:n})}));r(t)};return Object(c.useEffect)((function(){x();var e=setInterval((function(){x()}),6e4);return function(){return clearInterval(e)}}),[]),Object(c.useEffect)((function(){if(n.length>0){var t=[],a=[];n.map((function(c){c.Engineer_B_name===e.account.name&&t.push(c),c.Checker_B_name!==e.account.name&&c.Approver_B_name!==e.account.name||a.push(c)})),l(t),h(a)}}),[n]),{myRecords:n,bimLeadRecords:s,bimCheckerApproverRecords:b,handleExpandTables:function(){O(!m)},expandTables:m,handleOpenProject:function(e){var t="https://bmtools.arup.com/bimtracker?projectFilter="+e;window.open(t)},handleOpenProjectDiscipline:function(e,t){var a="https://bmtools.arup.com/bimtracker?projectFilter="+e+"&discipline="+t;window.open(a)}}}(e.userData),a=(t.myRecords,t.bimLeadRecords),n=t.bimCheckerApproverRecords,r=(t.handleExpandTables,t.expandTables,t.handleOpenProject,t.handleOpenProjectDiscipline),o=ce();return Object(B.jsxs)("div",{children:[Object(B.jsxs)(l.a,{container:!0,direction:"row",alignItems:"center",children:[Object(B.jsx)(l.a,{item:!0,xs:11,children:Object(B.jsx)(v.a,{variant:"h6",children:"BIM Reviewer"})}),Object(B.jsx)(l.a,{item:!0,xs:1,children:Object(B.jsx)(k.a,{title:Object(B.jsx)("span",{className:o.helpTooltipSpan,children:"This Card contains relevant progress information for your BIM projects, open the tabs and click on any ticks or crosses to be taken to the relevant section of the BIM Tracker. You'll find more tooltips throughout, that provide explanations where needed."}),placement:"bottom-end",children:Object(B.jsx)(_.a,{fontSize:"small",className:o.helpIcon})})})]}),Object(B.jsxs)("div",{className:o.accordionContainer,children:[n.length>0&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(v.a,{variant:"subtitle1",align:"left",className:o.subtitle,children:"I'm a Checker or Approver:"}),n.map((function(e){return Object(B.jsxs)(L.a,{children:[Object(B.jsxs)(D.a,{expandIcon:Object(B.jsx)(ae.a,{fontSize:"small"}),children:[Object(B.jsx)("div",{className:o.accordionProjectStatus,children:Object(B.jsx)(k.a,{placement:"top",title:100-e.projectStatus<0?"0%":100-e.projectStatus+"%",children:Object(B.jsx)(F.a,{fontSize:"small",className:100-e.projectStatus<51?o.cellRed:100-e.projectStatus<76?o.cellAmber:100-e.projectStatus<100?o.cellYellow:o.cellGreen})})}),Object(B.jsxs)(v.a,{variant:"body2",sx:{width:"90%"},children:[e.PCode," ",e.JobNameShort]})]}),Object(B.jsx)(R.a,{children:Object(B.jsxs)(u.a,{children:[Object(B.jsxs)(x.a,{children:[Object(B.jsx)(m.a,{className:o.iconHeader,children:Object(B.jsx)(k.a,{title:"People",placement:"top",children:Object(B.jsx)(z.a,{})})}),Object(B.jsx)(m.a,{className:o.iconHeader,children:Object(B.jsx)(k.a,{title:"Storage",placement:"top",children:Object(B.jsx)(G.a,{})})}),Object(B.jsx)(m.a,{className:o.iconHeader,children:Object(B.jsx)(k.a,{title:"Process",placement:"top",children:Object(B.jsx)(J.a,{})})}),Object(B.jsx)(m.a,{className:o.iconHeader,children:Object(B.jsx)(k.a,{title:"Coordination",placement:"top",children:Object(B.jsx)(K.a,{})})}),Object(B.jsx)(m.a,{className:o.iconHeader,children:Object(B.jsx)(k.a,{title:"Automation",placement:"top",children:Object(B.jsx)($.a,{})})}),Object(B.jsx)(m.a,{className:o.tableHeader,children:"Last Updated"})]}),Object(B.jsx)(p.a,{children:Object(B.jsxs)(g.a,{children:[Object(B.jsx)(m.a,{className:o.iconCell,onClick:function(){return r(e.PCode,"people")},children:e.completePeople?Object(B.jsx)(X.a,{}):Object(B.jsx)(ee.a,{})}),Object(B.jsx)(m.a,{className:o.iconCell,onClick:function(){return r(e.PCode,"storage")},children:e.completeStorage?Object(B.jsx)(X.a,{}):Object(B.jsx)(ee.a,{})}),Object(B.jsx)(m.a,{className:o.iconCell,onClick:function(){return r(e.PCode,"process")},children:e.completeProcess?Object(B.jsx)(X.a,{}):Object(B.jsx)(ee.a,{})}),Object(B.jsx)(m.a,{className:o.iconCell,onClick:function(){return r(e.PCode,"coordination")},children:e.completeCoordination?Object(B.jsx)(X.a,{}):Object(B.jsx)(ee.a,{})}),Object(B.jsx)(m.a,{className:o.iconCell,onClick:function(){return r(e.PCode,"automation")},children:e.automation_Clarity_Nightly_Exports?Object(B.jsx)(X.a,{}):Object(B.jsx)(ee.a,{})}),Object(B.jsx)(m.a,{children:e.updated_at?Object(T.a)(Object(E.a)(e.updated_at))+" ago":"No data"})]})})]})})]})}))]}),a.length>0&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(v.a,{variant:"subtitle1",align:"left",className:o.subtitle,children:"I'm a BIM Lead:"}),a.map((function(e){return Object(B.jsxs)(L.a,{children:[Object(B.jsxs)(D.a,{expandIcon:Object(B.jsx)(ae.a,{fontSize:"small"}),children:[Object(B.jsx)("div",{className:o.accordionProjectStatus,children:Object(B.jsx)(k.a,{placement:"top",title:100-e.projectStatus<0?"0%":100-e.projectStatus+"%",children:Object(B.jsx)(F.a,{fontSize:"small",className:100-e.projectStatus<51?o.cellRed:100-e.projectStatus<76?o.cellAmber:100-e.projectStatus<100?o.cellYellow:o.cellGreen})})}),Object(B.jsxs)(v.a,{variant:"body2",children:[e.PCode," ",e.JobNameShort]})]}),Object(B.jsx)(R.a,{children:Object(B.jsxs)(u.a,{children:[Object(B.jsxs)(x.a,{children:[Object(B.jsx)(m.a,{className:o.iconHeader,children:Object(B.jsx)(k.a,{title:"People",placement:"top",children:Object(B.jsx)(z.a,{})})}),Object(B.jsx)(m.a,{className:o.iconHeader,children:Object(B.jsx)(k.a,{title:"Storage",placement:"top",children:Object(B.jsx)(G.a,{})})}),Object(B.jsx)(m.a,{className:o.iconHeader,children:Object(B.jsx)(k.a,{title:"Process",placement:"top",children:Object(B.jsx)(J.a,{})})}),Object(B.jsx)(m.a,{className:o.iconHeader,children:Object(B.jsx)(k.a,{title:"Coordination",placement:"top",children:Object(B.jsx)(K.a,{})})}),Object(B.jsx)(m.a,{className:o.iconHeader,children:Object(B.jsx)(k.a,{title:"Automation",placement:"top",children:Object(B.jsx)($.a,{})})}),Object(B.jsx)(m.a,{className:o.tableHeader,children:"Last Updated"})]}),Object(B.jsx)(p.a,{children:Object(B.jsxs)(g.a,{children:[Object(B.jsx)(m.a,{className:o.iconCell,onClick:function(){return r(e.PCode,"people")},children:e.completePeople?Object(B.jsx)(X.a,{}):Object(B.jsx)(ee.a,{})}),Object(B.jsx)(m.a,{className:o.iconCell,onClick:function(){return r(e.PCode,"storage")},children:e.completeStorage?Object(B.jsx)(X.a,{}):Object(B.jsx)(ee.a,{})}),Object(B.jsx)(m.a,{className:o.iconCell,onClick:function(){return r(e.PCode,"process")},children:e.completeProcess?Object(B.jsx)(X.a,{}):Object(B.jsx)(ee.a,{})}),Object(B.jsx)(m.a,{className:o.iconCell,onClick:function(){return r(e.PCode,"coordination")},children:e.completeCoordination?Object(B.jsx)(X.a,{}):Object(B.jsx)(ee.a,{})}),Object(B.jsx)(m.a,{className:o.iconCell,onClick:function(){return r(e.PCode,"automation")},children:e.automation_Clarity_Nightly_Exports?Object(B.jsx)(X.a,{}):Object(B.jsx)(ee.a,{})}),Object(B.jsx)(m.a,{children:e.updated_at?Object(T.a)(Object(E.a)(e.updated_at))+" ago":"No data"})]})})]})})]})}))]})]}),0===a.length&&0===n.length&&Object(B.jsxs)(v.a,{variant:"body2",children:["It looks like you aren't on any BIM Projects",Object(B.jsx)("br",{}),"Visit the BIM Tracker ",Object(B.jsx)("a",{href:"https://bmtools.arup.com/bimtracker/",target:"_blank",rel:"noreferrer",children:"here"})," and check back later."]})]})}a(108),Object(P.a)({weather:{marginRight:"2.5%",marginLeft:"2.5%",width:"100%"}});var re=Object(P.a)({news:{width:900,height:500,marginTop:50,marginBottom:50,margin:"auto"}}),oe=a(293);function ie(){re();return Object(B.jsxs)("div",{children:[Object(B.jsx)(v.a,{variant:"h6",children:"Arup News"}),Object(B.jsx)("br",{}),Object(B.jsx)(v.a,{variant:"body2",children:"This component will contain UKIMEA, BEM & Skills Network news"}),Object(B.jsx)(v.a,{variant:"body2",children:"Currently Under Construction"}),Object(B.jsx)(oe.a,{sx:{height:200}})]})}var se=a(294),le=a(296),je=a(297),de=a(282),be=a(298),he=a(284),ue=a(289),pe=a(300),me=a(288),Oe=a(299),xe=a(287),ge=Object(P.a)({box:{marginBottom:15},toolbar:{backgroundColor:"#e3e3e3"},title:{color:"black"},headerGrid:{paddingLeft:0},popover:{minWidth:200,paddingBottom:5},backgroundForm:{paddingLeft:"3%"},userAvatar:{paddingLeft:5,paddingTop:5},popoverButton:{}});function fe(e){var t=ge(),a=e.userData,n=e.userImgData,r=e.selectedBackground,o=function(e,t){var a=Object(c.useState)(null),n=Object(S.a)(a,2),r=n[0],o=n[1];return{togglePopover:function(e){o(e.currentTarget)},popoverOpen:Boolean(r),closePopover:function(){o(null)},anchorEl:r,handleChangeBackground:function(e){t(e.target.value),localStorage.setItem("selectedBackground",e.target.value)}}}(0,e.setSelectedBackground),i=o.togglePopover,s=o.popoverOpen,j=o.closePopover,d=o.anchorEl,b=o.handleChangeBackground;return Object(B.jsx)(oe.a,{sx:{flexGrow:1},className:t.box,children:Object(B.jsx)(se.a,{position:"fixed",style:{backgroundColor:"#e3e3e3"},children:Object(B.jsx)(le.a,{className:t.toolbar,disableGutters:!0,children:Object(B.jsxs)(l.a,{container:!0,children:[Object(B.jsx)(l.a,{item:!0,xs:4}),Object(B.jsx)(l.a,{item:!0,xs:4,children:Object(B.jsx)(je.a,{variant:"h4",className:t.title,children:"Buildings Hub"})}),Object(B.jsx)(l.a,{item:!0,xs:2}),Object(B.jsxs)(l.a,{item:!0,xs:2,children:[Object(B.jsx)(be.a,{onClick:i,variant:"contained",className:t.popoverButton,startIcon:Object(B.jsx)(z.a,{}),children:"Account"}),Object(B.jsxs)(de.a,{open:s,anchorEl:d,onClose:j,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},className:t.popover,disableScrollLock:!0,children:[Object(B.jsxs)(l.a,{container:!0,alignItems:"center",className:t.popover,children:[Object(B.jsx)(l.a,{item:!0,xs:4,children:n?Object(B.jsx)(xe.a,{src:n,sx:{width:50,height:50},className:t.userAvatar}):Object(B.jsx)(z.a,{fontSize:"large",className:t.userAvatar})}),Object(B.jsxs)(l.a,{item:!0,xs:8,children:[Object(B.jsx)(je.a,{children:a.displayName}),Object(B.jsx)(je.a,{children:a.officeLocation})]})]}),Object(B.jsx)(Oe.a,{}),Object(B.jsx)("div",{className:t.backgroundForm,children:Object(B.jsxs)(me.a,{component:"fieldset",children:[Object(B.jsx)(je.a,{children:"Background Wallpaper"}),Object(B.jsxs)(ue.a,{"aria-label":"background",name:"controlled-radio-buttons-group",value:r,onChange:b,children:[Object(B.jsx)(pe.a,{value:"/static/media/Lemons.25a0929a.png",control:Object(B.jsx)(he.a,{}),label:"Lemons"}),Object(B.jsx)(pe.a,{value:"/static/media/Cosmos.c6c9718e.png",control:Object(B.jsx)(he.a,{}),label:"Cosmos"}),Object(B.jsx)(pe.a,{value:"/static/media/Koi.a797714b.png",control:Object(B.jsx)(he.a,{}),label:"Koi"}),Object(B.jsx)(pe.a,{value:"/static/media/Circuit.6d04891f.png",control:Object(B.jsx)(he.a,{}),label:"Circuit"})]})]})})]})]})]})})})})}var ve=a(63),ke=function(e){var t=Object(c.useState)([]),a=Object(S.a)(t,2),n=a[0],r=a[1],o=Object(c.useState)(!0),i=Object(S.a)(o,2),s=i[0],l=i[1],j=function(t){var a=[];t.currentData.map((function(t){Object.values(t).includes(e.account.name)&&a.push(t)})),r(a)};return Object(c.useEffect)((function(){l(!0),ve.get("https://projectapprovalstracker.arup.com/api/getpwadata").then((function(e){j(e.data)}))}),[]),Object(c.useEffect)((function(){n.length>0&&(n.map((function(t){var a=[];for(var c in t)if(t[c]===e.account.name){var n="";switch(c){case"Approver_B_name":n="Approver BIM";break;case"Approver_C_name":n="Approver Civil";break;case"Approver_E_name":n="Approver Electrical";break;case"Approver_M_name":n="Approver Mechanical";break;case"Approver_P_name":n="Approver Public Health";break;case"Approver_S_name":n="Approver Structural";break;case"Checker_B_name":n="Checker BIM";break;case"Checker_C_name":n="Checker Civil";break;case"Checker_E_name":n="Checker Electrical";break;case"Checker_M_name":n="Checker Mechanical";break;case"Checker_P_name":n="Checker Public Health";break;case"Checker_S_name":n="Checker Structural";break;case"Engineer_B_name":n="Lead BIM";break;case"Engineer_C_name":n="Lead Civil";break;case"Engineer_E_name":n="Lead Electrical";break;case"Engineer_M_name":n="Lead Mechanical";break;case"Engineer_P_name":n="Lead Public Health";break;case"Engineer_S_name":n="Lead Structural";break;case"ProjectDirectorName":n="Project Director";break;case"ProjectManagerName":n="Project Manager";break;default:n=c}a.push(n)}t.myRoles=a})),r(n),l(!1))}),[n]),{myProjects:n,loading:s}},Ce=a(302),_e=a(306),Se=a(305),Ne=a(301),we=a(303),Pe=a(304),ye=Object(P.a)({titleCell:{maxWidth:150,cursor:"pointer"},titleTooltip:{},helpIcon:{color:"#28aae1",paddingTop:5},helpTooltipSpan:{maxWidth:100,fontSize:12},table:{maxHeight:400,overflowY:"auto"}});function Be(e){var t=e.userData,a=ke(t),c=a.myProjects,n=a.loading,r=ye();return Object(B.jsxs)("div",{children:[Object(B.jsxs)(l.a,{container:!0,direction:"row",alignItems:"center",children:[Object(B.jsx)(l.a,{item:!0,xs:11,children:Object(B.jsx)(v.a,{variant:"h6",children:"Project Role Tracker"})}),Object(B.jsx)(l.a,{item:!0,xs:1,children:Object(B.jsx)(k.a,{title:Object(B.jsx)("span",{className:r.helpTooltipSpan,children:"This Card contains your projects and the role that you are fulfilling."}),placement:"bottom-end",children:Object(B.jsx)(_.a,{fontSize:"small",className:r.helpIcon})})})]}),!n&&c.length>0&&Object(B.jsx)(Ne.a,{component:f.a,className:r.table,children:Object(B.jsxs)(Ce.a,{stickyHeader:!0,size:"small",children:[Object(B.jsx)(we.a,{children:Object(B.jsxs)(Pe.a,{children:[Object(B.jsx)(Se.a,{children:"Project Name"}),Object(B.jsx)(Se.a,{children:"My Roles"})]})}),Object(B.jsx)(_e.a,{children:c.map((function(e){return Object(B.jsxs)(Pe.a,{children:[Object(B.jsx)(Se.a,{className:r.titleCell,children:Object(B.jsx)(k.a,{title:e.JobNameShort,placement:"top",className:r.titleTooltip,enterDelay:400,children:Object(B.jsx)(v.a,{variant:"body2",noWrap:!0,children:e.JobNameShort})})}),Object(B.jsx)(Se.a,{children:e.myRoles.map((function(e){return e})).join(", ")})]})}))})]})}),0===c.length&&Object(B.jsxs)(v.a,{variant:"body2",children:["It looks like you aren't on any Projects ",Object(B.jsx)("br",{}),"Visit the Project Tracker ",Object(B.jsx)("a",{href:"https://projectapprovalstracker.arup.com/",target:"_blank",rel:"noreferrer",children:"here"})," and check back later."]})]})}function Ie(){return Object(B.jsxs)("div",{children:[Object(B.jsx)(v.a,{variant:"h6",children:Object(B.jsx)("b",{children:"Welcome to your Buildings Hub"})}),Object(B.jsx)(v.a,{variant:"subtitle1",align:"left",style:{marginLeft:"3%"},children:"Changelog:"}),Object(B.jsxs)(v.a,{variant:"body2",align:"left",style:{marginLeft:"5%"},children:[Object(B.jsx)("b",{children:"02/11/21"}),Object(B.jsx)("br",{}),Object(B.jsx)("b",{children:"-"})," Styles Overhaul! It's all so shiny!",Object(B.jsx)("br",{}),Object(B.jsx)("b",{children:"-"})," '?' tips added to each card",Object(B.jsx)("br",{}),Object(B.jsx)("b",{children:"-"}),' "Your big head" - Simon Hawkins, 2021. Check out the Account tab',Object(B.jsx)("br",{}),Object(B.jsx)("b",{children:"01/11/21"}),Object(B.jsx)("br",{}),Object(B.jsx)("b",{children:"-"})," Added Project Role Tracker ",Object(B.jsx)("br",{}),Object(B.jsx)("b",{children:"-"})," Backgrounds are available in the Account tab! Spice up your hub now!",Object(B.jsx)("br",{}),Object(B.jsx)("b",{children:"-"})," NOTE: BIM Tracker & Project Role Tracker are currently locked to Colin Magner"]})]})}function Te(){return Object(B.jsxs)("div",{children:[Object(B.jsx)(v.a,{variant:"h6",children:"Coming Soon"}),Object(B.jsx)("br",{}),Object(B.jsx)(v.a,{variant:"body2",children:"Trackers such as 30 day review, PM/PD tools and more"}),Object(B.jsx)(v.a,{variant:"body2",children:"Possible PaT integration. Plan your time from your Desktop!"}),Object(B.jsx)(oe.a,{sx:{height:200}})]})}var Ee=Object(P.a)({loginScreen:{margin:"auto",marginTop:"20%"},weatherGrid:{marginLeft:"1.25%",marginRight:"2.5%",width:"35%"},spacerDiv:{height:64},content:{marginLeft:"2%",marginRight:"2%"},contentGridRow:{paddingBottom:"1%"},wholePage:{minHeight:"100vh",backgroundSize:"cover"}});function Ae(){var e=Object(b.a)(),t=(e.handleNotification,e.loggedIn),a=e.authHandler,c=e.userData,n=e.userImgData,r=e.selectedBackground,o=e.setSelectedBackground,i=Ee();return Object(B.jsxs)("div",{children:[!t&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{severity:"warning",children:"Please ensure you are connected to the Arup Network for a full experience"}),Object(B.jsx)(s.a,{clientId:"2b4cf606-ac2c-4532-a7b0-483d7f2427cc",authCallback:a,className:i.loginScreen,useLocalStorageCache:!0,withUserData:!0})]}),t&&Object(B.jsxs)("div",{className:i.wholePage,style:{backgroundImage:"url(".concat(r,")")},children:[Object(B.jsx)(fe,{userData:c,userImgData:n,selectedBackground:r,setSelectedBackground:o}),Object(B.jsx)("div",{className:i.spacerDiv}),Object(B.jsxs)("div",{className:i.content,children:[Object(B.jsxs)(l.a,{container:!0,direction:"row",spacing:2,className:i.contentGridRow,children:[Object(B.jsx)(l.a,{item:!0,xs:7,children:Object(B.jsx)(j.a,{children:Object(B.jsx)(I,{userData:c})})}),Object(B.jsx)(l.a,{item:!0,xs:5,children:Object(B.jsx)(j.a,{children:Object(B.jsx)(Ie,{})})})]}),Object(B.jsxs)(l.a,{container:!0,direction:"row",spacing:2,className:i.contentGridRow,children:[Object(B.jsx)(l.a,{item:!0,xs:7,children:Object(B.jsx)(j.a,{children:Object(B.jsx)(ne,{userData:c})})}),Object(B.jsx)(l.a,{item:!0,xs:5,children:Object(B.jsx)(j.a,{children:Object(B.jsx)(Be,{userData:c})})})]}),Object(B.jsxs)(l.a,{container:!0,direction:"row",spacing:2,className:i.contentGridRow,children:[Object(B.jsx)(l.a,{item:!0,xs:6,children:Object(B.jsx)(j.a,{children:Object(B.jsx)(ie,{})})}),Object(B.jsx)(l.a,{item:!0,xs:6,children:Object(B.jsx)(j.a,{children:Object(B.jsx)(Te,{})})})]})]})]})]})}var Me=function(){return Object(B.jsx)("div",{className:"App",children:Object(B.jsx)(Ae,{})})},Le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,309)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),c(e),n(e),r(e),o(e)}))},De=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Re(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all "),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(B.jsx)(n.a.StrictMode,{children:Object(B.jsx)(Me,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");De?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var c=a.headers.get("content-type");404===a.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Re(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service ")}))):Re(t,e)}))}}(),Le()}},[[194,1,2]]]);
//# sourceMappingURL=main.bf8f638a.chunk.js.map